<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GHOST_06 | ARTIMAS CTF</title>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Exo+2:wght@300;400;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --neon-green: #00ff88;
            --dark-bg: #03010a;
            --border: rgba(0, 255, 136, 0.3);
        }

        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background: var(--dark-bg);
            color: #e0f7ff;
            font-family: 'Exo 2', sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            padding: 30px 20px;
        }

        #bg-canvas {
            position: fixed;
            inset: 0;
            z-index: 0;
        }

        .container {
            position: relative;
            z-index: 2;
            width: 100%;
            max-width: 580px;
        }

        .card {
            background: rgba(0, 10, 5, 0.92);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 44px;
            text-align: center;
            box-shadow: 0 0 50px rgba(0, 255, 136, 0.08);
            backdrop-filter: blur(12px);
        }

        .eyebrow {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.7rem;
            letter-spacing: 5px;
            color: #4a5568;
            text-transform: uppercase;
            margin-bottom: 14px;
        }

        .title {
            font-family: 'Share Tech Mono', monospace;
            font-size: 1.7rem;
            color: var(--neon-green);
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 0.9rem;
            color: #64748b;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .target-label {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.7rem;
            letter-spacing: 4px;
            color: var(--neon-green);
            text-transform: uppercase;
            margin-bottom: 12px;
        }

        .username-box {
            background: rgba(0, 255, 136, 0.05);
            border: 1px solid rgba(0, 255, 136, 0.25);
            border-radius: 10px;
            padding: 20px 24px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 1.35rem;
            font-weight: 700;
            color: var(--neon-green);
            letter-spacing: .06em;
            cursor: text;
            user-select: all;
            margin-bottom: 26px;
            transition: border-color .3s;
        }

        .username-box:hover {
            border-color: var(--neon-green);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.12);
        }

        .platforms {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 26px;
        }

        .platform {
            background: rgba(0, 255, 136, 0.06);
            border: 1px solid rgba(0, 255, 136, 0.15);
            border-radius: 8px;
            padding: 8px 18px;
            font-size: 0.82rem;
            color: #94a3b8;
            transition: all .3s;
            cursor: default;
        }

        .platform:hover {
            border-color: var(--neon-green);
            color: var(--neon-green);
        }

        .hint-block {
            background: rgba(0, 255, 136, 0.03);
            border-left: 3px solid rgba(0, 255, 136, 0.35);
            border-radius: 6px;
            padding: 14px 18px;
            text-align: left;
        }

        .hint-label {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.7rem;
            letter-spacing: 3px;
            color: rgba(0, 255, 136, .5);
            text-transform: uppercase;
            display: block;
            margin-bottom: 8px;
        }

        .hint-text {
            font-size: 0.85rem;
            color: #94a3b8;
            line-height: 1.6;
        }

        code {
            color: #e0f7ff;
            font-family: 'Share Tech Mono', monospace;
        }
    </style>
</head>

<body>
    <canvas id="bg-canvas"></canvas>
    <div class="container">
        <div class="card">
            <div class="eyebrow">// OSINT ‚Äî Digital Footprint</div>
            <div class="title">üïµÔ∏è Trace the Ghost</div>
            <p class="subtitle">An operative was traced across several platforms. We intercepted fragments of their
                digital identity ‚Äî but the file is partially redacted. Piece it together.</p>

            <div class="target-label">// Intercepted Intel Report</div>
            <div
                style="background:rgba(0,255,136,0.04);border:1px solid rgba(0,255,136,0.18);border-radius:10px;padding:20px 24px;text-align:left;margin-bottom:26px;">
                <div
                    style="font-family:'Share Tech Mono',monospace;font-size:0.72rem;letter-spacing:2px;color:#334155;margin-bottom:14px;">
                    CLASSIFICATION: RESTRICTED ‚Äî PARTIAL REDACTION APPLIED</div>
                <div style="font-family:'Share Tech Mono',monospace;font-size:0.82rem;line-height:2;color:#94a3b8;">
                    <span style="color:rgba(0,255,136,0.5);">FIELD_01</span> &nbsp;Forum alias &nbsp;&nbsp;&nbsp;&nbsp;:
                    <span style="color:#00ff88;">YXJ0aW1hcw==</span><br>
                    <span style="color:rgba(0,255,136,0.5);">FIELD_02</span> &nbsp;Activity tag &nbsp;&nbsp;&nbsp;:
                    <span style="color:#00ff88;">reyalp_ftc</span><br>
                    <span style="color:rgba(0,255,136,0.5);">FIELD_03</span> &nbsp;Full handle &nbsp;&nbsp;&nbsp;&nbsp;:
                    <span
                        style="color:#334155;background:#1a1a1a;border-radius:3px;padding:0 10px;">‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà</span><br>
                    <span style="color:rgba(0,255,136,0.5);">FIELD_04</span> &nbsp;Platform
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span style="color:#334155;">‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà Gist</span><br>
                    <span style="color:rgba(0,255,136,0.5);">FIELD_05</span> &nbsp;Last activity &nbsp;: <span
                        style="color:#334155;">‚ñà‚ñà‚ñà‚ñà-‚ñà‚ñà-‚ñà‚ñà</span>
                </div>
            </div>

            <div class="hint-block">
                <span class="hint-label">üí° Analyst Note</span>
                <span class="hint-text">The intel fragments have been obfuscated by the source ‚Äî one is encoded,
                    another is reversed. Decode each fragment, then combine them with the correct separator
                    to reconstruct the full handle. Once assembled, use the search terminal below
                    to locate their public presence. The flag isn't always on the surface ‚Äî
                    sometimes you need to look at the source.</span>
            </div>

            <!-- Simulated Search for Offline Play -->
            <div style="margin-top:24px;border-top:1px solid var(--border);padding-top:20px;">
                <div class="target-label">// Simulated Terminal Search</div>
                <div style="display:flex;gap:8px;margin-bottom:12px;">
                    <input type="text" id="osint-search" placeholder="Enter username to search..."
                        style="flex:1;background:rgba(0,255,136,0.04);border:1px solid rgba(0,255,136,0.15);border-radius:6px;padding:10px 14px;color:white;font-family:'Share Tech Mono',monospace;font-size:0.82rem;outline:none;">
                    <button onclick="doOsintSearch()"
                        style="background:rgba(0,255,136,0.1);border:1px solid var(--neon-green);border-radius:6px;padding:10px 18px;color:var(--neon-green);font-family:'Exo 2',sans-serif;font-weight:700;font-size:0.8rem;letter-spacing:1px;text-transform:uppercase;cursor:pointer;">Search</button>
                </div>
                <div id="osint-results"
                    style="text-align:left;font-family:'Share Tech Mono',monospace;font-size:0.75rem;min-height:1.1em;">
                </div>
            </div>
        </div>
    </div>
    <!-- Submit Strip -->
    <div
        style="max-width:580px;margin:18px auto 0;background:rgba(8,4,22,0.9);border:1px solid rgba(0,255,136,0.15);border-radius:12px;padding:18px;font-family:'Share Tech Mono',monospace;position:relative;z-index:2;">
        <span
            style="font-size:0.68rem;letter-spacing:3px;color:#4a5568;text-transform:uppercase;display:block;margin-bottom:10px;">//
            Submit Flag 6</span>
        <div style="display:flex;gap:8px;">
            <input type="text" id="fi6" placeholder="ARTIMAS{...}" autocomplete="off" spellcheck="false"
                style="flex:1;background:rgba(0,255,136,0.04);border:1px solid rgba(0,255,136,0.15);border-radius:6px;padding:10px 14px;color:white;font-family:'Share Tech Mono',monospace;font-size:0.82rem;outline:none;">
            <button onclick="submitFlag6()"
                style="background:linear-gradient(135deg,#00ff88,#00e5ff);border:none;border-radius:6px;padding:10px 18px;color:black;font-family:'Exo 2',sans-serif;font-weight:700;font-size:0.8rem;letter-spacing:1px;text-transform:uppercase;cursor:pointer;">Submit</button>
        </div>
        <div id="fb6" style="margin-top:8px;font-size:0.75rem;min-height:1.1em;"></div>
        <a href="../index.html"
            style="display:inline-block;margin-top:12px;font-size:0.72rem;letter-spacing:2px;color:#4a5568;text-decoration:none;border:1px solid #1e293b;border-radius:6px;padding:6px 16px;">‚Üê
            Return to Hub</a>
    </div>
    <script>
        const canvas = document.getElementById('bg-canvas'), ctx = canvas.getContext('2d');

        let w, h, p = []; function resize() {
            w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize); resize();
        for (let i = 0; i < 50; i++)p.push({
            x: Math.random() * w, y: Math.random() * h, vx: Math.random() * .35 - .175, vy:
                Math.random() * .35 - .175
        }); function draw() {
            ctx.clearRect(0, 0, w, h); p.forEach(q => {
                q.x += q.vx; q.y +=
                    q.vy; if (q.x < 0) q.x = w; if (q.x > w) q.x = 0; if (q.y < 0) q.y = h; if (q.y > h) q.y = 0; ctx.beginPath();
                ctx.arc(q.x, q.y, 1, 0, Math.PI * 2); ctx.fillStyle = 'rgba(0,255,136,0.18)'; ctx.fill();
            });
            requestAnimationFrame(draw);
        }
        draw();
        // ‚îÄ‚îÄ Flag Submission ‚îÄ‚îÄ
        async function submitFlag6() {
            const val = document.getElementById('fi6').value.trim();
            const fb = document.getElementById('fb6');
            if (!val) { fb.style.color = '#ff3e3e'; fb.textContent = 'Enter the flag first'; return; }
            fb.style.color = '#00e5ff'; fb.textContent = 'Verifying...';
            const res = await fetch('/api/scores/flag', {
                method: 'POST', headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ answer: val })
            }).then(r => r.json());
            if (res.ok) {
                fb.style.color = '#00ff88'; fb.textContent = '‚úÖ CORRECT! FLAG 6 CAPTURED ‚Äî Returning...';
                setTimeout(() => { window.location.href = '/index.html'; }, 1200);
            } else if (res.alreadySolved) {
                fb.style.color = '#fbbf24'; fb.textContent = '‚ö° Already captured ‚Äî Returning...';
                setTimeout(() => { window.location.href = '/index.html'; }, 1200);
            } else { fb.style.color = '#ff3e3e'; fb.textContent = '‚ö† Invalid flag ‚Äî try again'; }
        }
        function doOsintSearch() {
            const q = document.getElementById('osint-search').value.trim().toLowerCase();
            const res = document.getElementById('osint-results');
            if (!q) { res.style.color = '#ff3e3e'; res.textContent = 'Enter a username...'; return; }
            res.style.color = '#00ff88'; res.textContent = 'Searching global databases...';
            setTimeout(() => {
                if (q === 'artimas_ctf_player') {
                    res.innerHTML = `[SUCCESS] 1 MATCH FOUND:<br><a href="mock_profile.html" style="color:var(--neon-green);text-decoration:underline;">Public Profile: artimas_ctf_player (Gist/Pastebin Index)</a>`;
                } else {
                    res.style.color = '#ff3e3e'; res.textContent = '[ERROR] 0 matches found for that username.';
                }
            }, 800);
        }
        document.getElementById('osint-search').addEventListener('keydown', e => { if (e.key === 'Enter') doOsintSearch(); });

        document.addEventListener('keydown', e => {
            if (e.key === 'Enter' && document.activeElement.id === 'fi6')
                submitFlag6();
        });
    </script>
</body>

</html>